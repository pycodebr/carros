{% extends "base.html" %}

{% block title %}Carros · Lista{% endblock %}

{% block content %}
  <section class="page-header">
    <h1 class="page-title">Catálogo de Carros</h1>
    <p class="page-subtitle">Explore o catálogo com um visual moderno</p>
    <form method="get" action="{% url 'cars_list' %}" class="search-bar glass">
      <input class="input input-lg" type="text" name="search" placeholder="Buscar por marca, modelo ou placa" value="{{ request.GET.search }}">
      <button type="submit" class="btn btn-primary">Buscar</button>
      {% if user.is_authenticated %}
        <a href="{% url 'new_car' %}" class="btn btn-ghost">Cadastrar</a>
      {% endif %}
    </form>
  </section>

  <div class="grid grid-cards">
    {% if cars %}
      {% for car in cars %}
        <a href="{% url 'car_detail' car.pk %}" class="card card-hover glass">
          <div class="card-media">
            {% if car.photo %}
              <img src="{{ car.photo.url }}" alt="{{ car.model }} - {{ car.brand }}">
            {% else %}
              <div class="media-placeholder">Sem foto</div>
            {% endif %}
          </div>
          <div class="card-body">
            <h3 class="card-title">{{ car.brand }} {{ car.model }}</h3>
            <p class="muted">{{ car.factory_year }} · R$ {{ car.value }}</p>
          </div>
        </a>
      {% endfor %}
    {% else %}
      <div class="empty-state glass">
        <h3>Nenhum carro encontrado</h3>
        <p>Tente alterar o termo da pesquisa</p>
      </div>
    {% endif %}
  </div>
{% endblock %}